{"version":3,"sources":["scripts/background.js"],"names":["chrome","storage","local","get","enabled","config","getIcon","path","browserAction","setIcon","onClicked","addListener","tab","set"],"mappings":"AAAAA,OAAOC,QAAQC,MAAMC,KAAMC,SAAS,GAAQ,SAAUC,GACpD,SAASC,EAASF,GAChB,OAASG,KAAM,QAAUH,EAAU,KAAO,OAAS,WAGrD,IAAIA,EAAUC,EAAOD,QAErBJ,OAAOQ,cAAcC,QAAQH,EAAQF,IAErCJ,OAAOQ,cAAcE,UAAUC,YAAY,SAAUC,GAEnDR,GAAWA,EAEXJ,OAAOC,QAAQC,MAAMW,KAAMT,QAASA,GAAW,WAE7CJ,OAAOQ,cAAcC,QAAQH,EAAQF","file":"background.js","sourcesContent":["chrome.storage.local.get({ enabled: true }, function (config) {\n  function getIcon (enabled) {\n    return { path: 'img/' + (enabled ? 'on' : 'off') + '-38.png' }\n  }\n  // Save our \"enabled\" state\n  var enabled = config.enabled\n  // Set the main icon on startup\n  chrome.browserAction.setIcon(getIcon(enabled))\n  // Wait for clicks on our icon\n  chrome.browserAction.onClicked.addListener(function (tab) {\n    // Flip state\n    enabled = !enabled\n    // Save state and notify any running tab\n    chrome.storage.local.set({ enabled: enabled }, function () {\n      // Flip the icon\n      chrome.browserAction.setIcon(getIcon(enabled))\n    })\n  })\n})\n"]}