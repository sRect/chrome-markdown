var type=(document.contentType||"unknown").toLowerCase();"text/plain"===type||"text/markdown"===type?chrome.storage.local.get({enabled:!0},function(e){function t(e){var t=r.highlight("markdown",e,!0).value,n=a.parse(e);return document.body.innerHTML='<pre class="hljs markdown markdown-source">'+t+'</pre><article class="markdown-body">'+n+"</article>",e}var n=e.enabled,o=window.console,a=window.marked,r=window.hljs,i=null;document.body.setAttribute("class",n?"enabled":"disabled"),chrome.storage.onChanged.addListener(function(e,t){n=e.enabled.newValue,document.body.setAttribute("class",n?"enabled":"disabled")}),function(){for(var e=0;e<arguments.length;e++){var t=chrome.extension.getURL("css/"+arguments[e]+".css");if(t){var n=document.createElement("link");n.setAttribute("rel","stylesheet"),n.setAttribute("href",t),document.head.appendChild(n)}}}("markdown","default","github","page");var d={};r.listLanguages().forEach(function(e){d[e.toLowerCase()]=e}),a.setOptions({highlight:function(e,t){return t=t&&t.toLowerCase(),(e=t&&d[t]?r.highlight(d[t],e,!0):r.highlightAuto(e)).value}});var l=document.body.getElementsByTagName("pre")[0];l&&l.firstChild&&(i=t(l.firstChild.nodeValue),window.location.href.startsWith("file://")?(o.log("Checking for changes on "+window.location.href+" every 3 seconds"),window.setInterval(function(){var e=new XMLHttpRequest;e.open("GET",window.location.href),e.send(),e.onreadystatechange=function(){if(4===e.readyState){var n=e.responseText;n!==i&&(o.log("Changes detected on "+window.location.href),i=t(n))}}},3e3)):o.log("Not checking for changes on "+window.location.href+", reload manually"))}):console.log("Not rendering markdown for content type: "+type);
//# sourceMappingURL=plugin.js.map
